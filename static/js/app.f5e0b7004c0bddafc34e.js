webpackJsonp([1],{"4XGw":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a=s("ESwS"),i=s.n(a),o=s("mW51"),n=s.n(o),c={data:function(){return{menuShow:!1,login:"for "+localStorage.getItem("login")}},methods:{logout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/login"),location.reload()}},computed:{checkUser:function(){return localStorage.getItem("auth")},linkMenu:function(){return localStorage.getItem("auth")?[{title:"Home",url:"/"}]:[{title:"Login",url:"/login"},{title:"Registration",url:"/registration"}]}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("header",[s("div",{staticClass:"navbar"},[s("div",{staticClass:"container"},[s("div",{staticClass:"navbar-content"},[s("a",{staticClass:"header-logo",attrs:{href:""}},[t._v("Weight Control"),t.checkUser?s("p",[t._v(t._s(t.login))]):t._e()]),s("router-link",{staticClass:"header-logo",attrs:{to:"/"}}),s("div",{staticClass:"button-burger",class:{active:t.menuShow},on:{click:function(e){t.menuShow=!t.menuShow}}},[s("span",{staticClass:"line line-1"}),s("span",{staticClass:"line line-2"}),s("span",{staticClass:"line line-3"})]),s("div",{staticClass:"navbar-list__wrapper",class:{active:t.menuShow}},[s("ul",{staticClass:"navbar-list"},[t._l(t.linkMenu,function(e){return s("li",{key:e.title,staticClass:"navbar-item",on:{click:function(e){t.menuShow=!1}}},[s("router-link",{staticClass:"navbar-link",attrs:{to:""+e.url}},[t._v(t._s(e.title))])],1)}),t.checkUser?s("li",{staticClass:"navbar-item",on:{click:t.logout}},[s("span",{staticClass:"navbar-link"},[t._v("Logout")])]):t._e()],2)])],1)])])]),s("router-view")],1)},staticRenderFns:[]};var u=s("VU/8")(c,l,!1,function(t){s("gU2v")},null,null).exports,h=s("/ocq"),d=s("INCx"),m=s.n(d);window.addEventListener("resize",function t(){alert("Чтобы изменить размеры графика, обновите страницу"),window.removeEventListener("resize",t)}),google.charts.load("current",{packages:["corechart"]});var g={data:function(){return{chartLoad:"Загрузить мой график",chartActive:!1,chartActive1:!1,chartMonth:"",chartDay:"",chartWeigth:"",filterChart:""}},methods:{filterWeek:function(){this.filterChart=7,this.drawChart()},filter2Week:function(){this.filterChart=14,this.drawChart()},filterMonth:function(){this.filterChart=31,this.drawChart()},filterAll:function(){this.filterChart="",this.drawChart()},newWeigth:function(){var t=this;google.charts.load("current",{packages:["corechart"]});var e=new Date,s=e.getMonth(),r=e.getDate();if(this.chartWeigth){switch(s){case 0:s="янв";break;case 1:s="фев";break;case 2:s="мар";break;case 3:s="апр";break;case 4:s="май";break;case 5:s="июн";break;case 6:s="июл";break;case 7:s="авг";break;case 8:s="сен";break;case 9:s="окт";break;case 10:s="ноя";break;case 11:s="дек"}var a={mass:[r+" "+s,parseInt(this.chartWeigth)]};this.$store.dispatch("newWeigth",a).then(function(){localStorage.setItem("chart",1),t.drawChart()})}else console.log(this.loading),this.drawChart()},drawChart:function(){var t=this;this.chartLoad="Loading...",setTimeout(function(){t.chartActive=!0,t.chartActive1=!0,google.charts.load("current",{packages:["corechart"]});var e=[["day","kg"]],s=new Date,r=s.getMonth(),a=s.getDate(),i=[31,28,31,30,31,30,31,31,30,31,30,31],o=t.$store.getters.charts;o||(o=[["0 mon",0]]);for(var n=[["day","kg"]],c=0;c<o.length-1;c++)o[c].mass.slice(0,2)[0]!==o[c+1].mass.slice(0,2)[0]&&n.push(o[c].mass.slice(0,2));try{n.push(o[o.length-1].mass.slice(0,2))}catch(t){}if(console.log(n[0]),t.filterChart){if(7===t.filterChart){var l=t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)[0].split(" ")[0],u=t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)[0].split(" ")[1];switch(u){case"янв":u=0;break;case"фев":u=1;break;case"мар":u=2;break;case"апр":u=3;break;case"май":u=4;break;case"июн":u=5;break;case"июл":u=6;break;case"авг":u=7;break;case"сен":u=8;break;case"окт":u=9;break;case"ноя":u=10;break;case"дек":u=11}console.log(l),console.log(u);for(var h=0;h<t.$store.getters.charts.length-1;h++){var d=t.$store.getters.charts[h].mass.slice(0,2)[0].split(" ")[0],m=t.$store.getters.charts[h].mass.slice(0,2)[0].split(" ")[1];switch(m){case"янв":m=0;break;case"фев":m=1;break;case"мар":m=2;break;case"апр":m=3;break;case"май":m=4;break;case"июн":m=5;break;case"июл":m=6;break;case"авг":m=7;break;case"сен":m=8;break;case"окт":m=9;break;case"ноя":m=10;break;case"дек":m=11}t.$store.getters.charts[h].mass.slice(0,2)[0]!==t.$store.getters.charts[h+1].mass.slice(0,2)[0]&&(console.log(t.$store.getters.charts[h].mass.slice(0,2)[0]),console.log(t.$store.getters.charts[h+1].mass.slice(0,2)[0]),(d<=a&&a-d<7&&m===r||m===r-1&&a+i[m]-d<7)&&t.$store.getters.charts[h].mass.slice(0,2)[0]!==t.$store.getters.charts[h+1].mass.slice(0,2)[0]?e.push(t.$store.getters.charts[h].mass.slice(0,2)):m===12+r-1&&a+i[m]-d<7&&t.$store.getters.charts[h].mass.slice(0,2)[0]!==t.$store.getters.charts[h+1].mass.slice(0,2)[0]&&e.push(t.$store.getters.charts[h].mass.slice(0,2)))}console.log(a),console.log(r),console.log(l),console.log(u),l<=a&&a-l<7&&u===r||u===r-1&&a+i[u]-l<7?e.push(t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)):u===12+r-1&&a+i[u]-l<7&&e.push(t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2))}else if(14===t.filterChart){var g=t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)[0].split(" ")[0],v=t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)[0].split(" ")[1];switch(v){case"янв":v=0;break;case"фев":v=1;break;case"мар":v=2;break;case"апр":v=3;break;case"май":v=4;break;case"июн":v=5;break;case"июл":v=6;break;case"авг":v=7;break;case"сен":v=8;break;case"окт":v=9;break;case"ноя":v=10;break;case"дек":v=11}for(var p=0;p<t.$store.getters.charts.length-1;p++){var b=t.$store.getters.charts[p].mass.slice(0,2)[0].split(" ")[0],f=t.$store.getters.charts[p].mass.slice(0,2)[0].split(" ")[1];switch(f){case"янв":f=0;break;case"фев":f=1;break;case"мар":f=2;break;case"апр":f=3;break;case"май":f=4;break;case"июн":f=5;break;case"июл":f=6;break;case"авг":f=7;break;case"сен":f=8;break;case"окт":f=9;break;case"ноя":f=10;break;case"дек":f=11}t.$store.getters.charts[p].mass.slice(0,2)[0]!==t.$store.getters.charts[p+1].mass.slice(0,2)[0]&&((b<=a&&a-b<14&&f===r||f===r-1&&a+i[f]-b<14)&&t.$store.getters.charts[p].mass.slice(0,2)[0]!==t.$store.getters.charts[p+1].mass.slice(0,2)[0]?e.push(t.$store.getters.charts[p].mass.slice(0,2)):f===12+r-1&&a+i[f]-b<14&&t.$store.getters.charts[p].mass.slice(0,2)[0]!==t.$store.getters.charts[p+1].mass.slice(0,2)[0]&&e.push(t.$store.getters.charts[p].mass.slice(0,2)))}g<=a&&a-g<14&&v===r||v===r-1&&a+i[v]-g<14?e.push(t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)):v===12+r-1&&a+i[v]-g<14&&e.push(t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2))}else if(31===t.filterChart){var w=t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)[0].split(" ")[0],$=t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)[0].split(" ")[1];switch($){case"янв":$=0;break;case"фев":$=1;break;case"мар":$=2;break;case"апр":$=3;break;case"май":$=4;break;case"июн":$=5;break;case"июл":$=6;break;case"авг":$=7;break;case"сен":$=8;break;case"окт":$=9;break;case"ноя":$=10;break;case"дек":$=11}console.log(w),console.log($);for(var k=0;k<t.$store.getters.charts.length-1;k++){var _=t.$store.getters.charts[k].mass.slice(0,2)[0].split(" ")[0],C=t.$store.getters.charts[k].mass.slice(0,2)[0].split(" ")[1];switch(C){case"янв":C=0;break;case"фев":C=1;break;case"мар":C=2;break;case"апр":C=3;break;case"май":C=4;break;case"июн":C=5;break;case"июл":C=6;break;case"авг":C=7;break;case"сен":C=8;break;case"окт":C=9;break;case"ноя":C=10;break;case"дек":C=11}t.$store.getters.charts[k].mass.slice(0,2)[0]!==t.$store.getters.charts[k+1].mass.slice(0,2)[0]&&(console.log(t.$store.getters.charts[k].mass.slice(0,2)[0]),console.log(t.$store.getters.charts[k+1].mass.slice(0,2)[0]),(_<=a&&a-_<30&&C===r||C===r-1&&a+i[C]-_<30)&&t.$store.getters.charts[k].mass.slice(0,2)[0]!==t.$store.getters.charts[k+1].mass.slice(0,2)[0]?e.push(t.$store.getters.charts[k].mass.slice(0,2)):C===12+r-1&&a+i[C]-_<30&&t.$store.getters.charts[k].mass.slice(0,2)[0]!==t.$store.getters.charts[k+1].mass.slice(0,2)[0]&&e.push(t.$store.getters.charts[k].mass.slice(0,2)))}console.log(a),console.log(r),console.log(w),console.log($),w<=a&&a-w<30&&$===r||$===r-1&&a+i[$]-w<30?e.push(t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2)):$===12+r-1&&a+i[$]-w<30&&e.push(t.$store.getters.charts[t.$store.getters.charts.length-1].mass.slice(0,2))}}else e=n;console.log(e),1!==e.length||localStorage.getItem("chart")||e.push(["начало",0]);try{var S=google.visualization.arrayToDataTable(e);new google.visualization.LineChart(document.getElementById("curve_chart")).draw(S,{title:"Your Weigth",curveType:"function",legend:{position:"bottom"}}),t.chartActive=!0}catch(t){console.log("wait")}},2e3)},googleDate:function(t){},getHoursAndMinutes:function(t){return m()(t/60)+" Hours "+t%60+" Minutes"}},computed:{loading:function(){return this.$store.getters.loading},checkUser:function(){return localStorage.getItem("auth")},charts:function(){return this.$store.getters.charts}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[s("section",[s("div",{staticClass:"container"},[s("h1",{staticClass:"ui-title-1"},[t._v("Home")]),s("label",[t._v("Ведите учет своего веса с помощью графика")]),t.chartActive?t._e():s("div",{staticClass:"button button--round button-primary",on:{click:t.drawChart}},[t._v(t._s(t.chartLoad))]),s("div",{staticClass:"footer"},[s("label",{attrs:{for:"ageRangeField"}},[t._v("Выберите месяц")]),s("label",{attrs:{for:"weigthField"}},[t._v("Укажите вашу массу на сегодня")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.chartWeigth,expression:"chartWeigth"}],attrs:{id:"weigthField",type:"text",placeholder:"Вес"},domProps:{value:t.chartWeigth},on:{input:function(e){e.target.composing||(t.chartWeigth=e.target.value)}}}),s("div",{staticClass:"button button--round button-primary",on:{click:t.newWeigth}},[t._v("Отправить")])]),t.checkUser?s("div",{attrs:{id:"curve_chart"}}):t._e()]),s("div",{staticClass:"container"},[t.chartActive1?s("div",{staticClass:"button button--round button-primary",on:{click:t.filterAll}},[t._v("За все время")]):t._e(),t.chartActive1?s("div",{staticClass:"button button--round button-primary",on:{click:t.filterWeek}},[t._v("За последнюю неделю")]):t._e(),t.chartActive1?s("div",{staticClass:"button button--round button-primary",on:{click:t.filter2Week}},[t._v("За последние 2 недели")]):t._e(),t.chartActive1?s("div",{staticClass:"button button--round button-primary",on:{click:t.filterMonth}},[t._v("За последние 30 дней")]):t._e(),t.chartActive1?s("div",{staticClass:"button button--round button-primary",on:{click:t.filterAll}},[t._v("За последние 6 месяцев")]):t._e(),t.chartActive1?s("div",{staticClass:"button button--round button-primary",on:{click:t.filterAll}},[t._v("За последний год")]):t._e()])])])},staticRenderFns:[]};var p=s("VU/8")(g,v,!1,function(t){s("ZrzA")},"data-v-3c5ef518",null).exports,b=s("+cKO"),f={data:function(){return{email:"",password:"",submitStatus:null}},validations:{email:{required:b.required,email:b.email},password:{required:b.required,minLength:Object(b.minLength)(6)}},methods:{onSubmit:function(){var t=this;if(this.$v.$touch(),this.$v.$invalid)this.submitStatus="ERROR";else{var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then(function(){localStorage.setItem("auth","1"),localStorage.setItem("login",t.email),t.submitStatus="OK",t.$router.push("/"),location.reload()}).catch(function(e){t.submitStatus=e.message})}}},computed:{loading:function(){return this.$store.getters.loading}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[s("section",[s("div",{staticClass:"container"},[s("div",{staticClass:"auth"},[t._m(0),s("div",{staticClass:"auth__form"},[s("span",{staticClass:"ui-title-2"},[t._v("Login")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"form-item",class:{errorInput:t.$v.email.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:{error:t.$v.email.$error},attrs:{type:"email",placeholder:"Email"},domProps:{value:t.email},on:{change:function(e){return t.$v.email.$touch()},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.$v.email.required?t._e():s("div",{staticClass:"error"},[t._v("Field is required")]),t.$v.email.email?t._e():s("div",{staticClass:"error"},[t._v("Email is not correct")])]),s("div",{staticClass:"form-item",class:{errorInput:t.$v.password.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{error:t.$v.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{change:function(e){return t.$v.password.$touch()},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.$v.password.required?t._e():s("div",{staticClass:"error"},[t._v("Password is required")]),t.$v.password.minLength?t._e():s("div",{staticClass:"error"},[t._v("Password must have at least "+t._s(t.$v.password.$params.minLength.min)+" letters")])]),s("div",{staticClass:"buttons-list"},[s("button",{staticClass:"button button-primary",attrs:{type:"submit",disabled:"PENDING"===t.submitStatus}},[t.loading?s("span",[t._v("Loading...")]):s("span",[t._v("Login")])])]),s("div",{staticClass:"buttons-list buttons-list--info"},["OK"===t.submitStatus?s("p",[t._v("Thanks for your submission!")]):t._e(),"ERROR"===t.submitStatus?s("p",[t._v("Please fill the form correctly.")]):s("p",[t._v(t._s(t.submitStatus))])]),s("div",{staticClass:"buttons-list buttons-list--info"},[s("span",[t._v("Need Registration?"),s("router-link",{attrs:{to:"/registration"}},[t._v(" Enter Here")])],1)]),t._m(1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auth__banner"},[e("h1",{staticClass:"ui-title-2"},[this._v("by 1TGION")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttons-list buttons-list--info"},[e("span",[this._v(" Forgot your password? Write"),e("a",{attrs:{href:"https://vk.com/alastorial",target:"_blank"}},[this._v(" him")])])])}]};var $=s("VU/8")(f,w,!1,function(t){s("4XGw")},"data-v-7d9b9434",null).exports,k={data:function(){return{email:"",password:"",repeatPassword:"",submitStatus:null}},validations:{email:{required:b.required,email:b.email},password:{required:b.required,minLength:Object(b.minLength)(6)},repeatPassword:{sameAsPassword:Object(b.sameAs)("password")}},methods:{onSubmit:function(){var t=this;if(this.$v.$touch(),this.$v.$invalid)this.submitStatus="ERROR";else{var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then(function(){localStorage.setItem("login",t.email),localStorage.setItem("auth","1"),console.log("REGISTER"),t.submitStatus="OK",t.$router.push("/"),location.reload()}).catch(function(e){t.submitStatus=e.message})}}},computed:{loading:function(){return this.$store.getters.loading}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[s("section",[s("div",{staticClass:"container"},[s("div",{staticClass:"auth"},[t._m(0),s("div",{staticClass:"auth__form"},[s("span",{staticClass:"ui-title-2"},[t._v("Registration")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"form-item",class:{errorInput:t.$v.email.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:{error:t.$v.email.$error},attrs:{type:"email",placeholder:"Email"},domProps:{value:t.email},on:{change:function(e){return t.$v.email.$touch()},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.$v.email.required?t._e():s("div",{staticClass:"error"},[t._v("Field is required")]),t.$v.email.email?t._e():s("div",{staticClass:"error"},[t._v("Email is not correct")])]),s("div",{staticClass:"form-item",class:{errorInput:t.$v.password.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{error:t.$v.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{change:function(e){return t.$v.password.$touch()},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.$v.password.required?t._e():s("div",{staticClass:"error"},[t._v("Password is required")]),t.$v.password.minLength?t._e():s("div",{staticClass:"error"},[t._v("Password must have at least "+t._s(t.$v.password.$params.minLength.min))])]),s("div",{staticClass:"form-item",class:{errorInput:t.$v.repeatPassword.$error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.repeatPassword,expression:"repeatPassword"}],class:{error:t.$v.repeatPassword.$error},attrs:{type:"password",placeholder:"Repeat your password"},domProps:{value:t.repeatPassword},on:{change:function(e){return t.$v.repeatPassword.$touch()},input:function(e){e.target.composing||(t.repeatPassword=e.target.value)}}}),t.$v.repeatPassword.sameAsPassword?t._e():s("div",{staticClass:"error"},[t._v("Passwords must be identical")])]),s("div",{staticClass:"buttons-list"},[s("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[t.loading?s("span",[t._v("Loading...")]):s("span",[t._v("Registration")])])]),s("div",{staticClass:"buttons-list buttons-list--info"},["OK"===t.submitStatus?s("p",[t._v("Thanks for your submission!")]):t._e(),"ERROR"===t.submitStatus?s("p",[t._v("Please fill the form correctly.")]):t._e(),s("p",{attrs:{else:"else"}},[t._v(t._s(t.submitStatus))])]),s("div",{staticClass:"buttons-list buttons-list--info"},[s("span",[t._v("Do you have account?"),s("router-link",{attrs:{to:"/login"}},[t._v(" Enter Here")])],1)])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auth__banner"},[e("h1",{staticClass:"ui-title-2"},[this._v("by 1TGION")])])}]};var C=s("VU/8")(k,_,!1,function(t){s("peHS")},"data-v-77d95410",null).exports;r.a.use(h.a);var S=new h.a({mode:"history",routes:[{path:"/",name:"home",component:p,beforeEnter:function(t,e,s){localStorage.getItem("auth")?s():s("/login")}},{path:"/login",name:"login",component:$},{path:"/registration",name:"registration",component:C}]}),E=s("NYxO"),y=s("Dd8w"),L=s.n(y),P=s("Xxa5"),I=s.n(P),A=s("fZjL"),U=s.n(A),x=s("exGp"),R=s.n(x),W=s("uLgv"),D=(s("hZls"),s("Zrlr")),O=s.n(D),q=function t(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;O()(this,t),this.mass=e,this.user=s,this.id=r},N={state:{chartDate:[]},mutations:{newChart:function(t,e){t.chartDate.push(e)},loadCharts:function(t,e){t.chartDate=e}},actions:{loadCharts:function(t,e){var s=this,r=t.commit;return R()(I.a.mark(function t(){var e,a,i;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,W.a.database().ref("charts").once("value");case 5:e=t.sent,a=e.val(),i=[],U()(a).forEach(function(t){var e=a[t];i.push(new q(e.mass,e.user,t))}),r("loadCharts",i),r("setLoading",!1),t.next=18;break;case 13:throw t.prev=13,t.t0=t.catch(2),r("setLoading",!1),r("setError",t.t0.message),t.t0;case 18:case"end":return t.stop()}},t,s,[[2,13]])}))()},newWeigth:function(t,e){var s=this,r=t.commit,a=t.getters;return R()(I.a.mark(function t(){var i,o;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,i=new q(e.mass,a.user.id),t.next=6,W.a.database().ref("charts").push(i);case 6:o=t.sent,r("newChart",L()({},i,{id:o.key})),r("setLoading",!1),t.next=16;break;case 11:throw t.prev=11,t.t0=t.catch(2),r("setLoading",!1),r("setError",t.t0.message),t.t0;case 16:case"end":return t.stop()}},t,s,[[2,11]])}))()}},getters:{charts:function(t,e){return t.chartDate.filter(function(t){return t.user===e.user.id})}}},M=function t(e){O()(this,t),this.id=e},F={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(t,e){var s=this,r=t.commit,a=e.email,i=e.password;return R()(I.a.mark(function t(){var e;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,W.a.auth().createUserWithEmailAndPassword(a,i);case 5:e=t.sent,r("setUser",new M(e.user.uid)),r("setLoading",!1),t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(2),r("setLoading",!1),r("setError",t.t0.message),t.t0;case 15:case"end":return t.stop()}},t,s,[[2,10]])}))()},loginUser:function(t,e){var s=this,r=t.commit,a=e.email,i=e.password;return R()(I.a.mark(function t(){var e;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,W.a.auth().signInWithEmailAndPassword(a,i);case 5:e=t.sent,r("setUser",new M(e.user.uid)),r("setLoading",!1),t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(2),r("setLoading",!1),r("setError",t.t0.message),t.t0;case 15:case"end":return t.stop()}},t,s,[[2,10]])}))()},loggedUser:function(t,e){(0,t.commit)("setUser",new M(e.uid))},logoutUser:function(t){var e=t.commit;localStorage.removeItem("chart"),localStorage.removeItem("auth"),localStorage.removeItem("login"),W.a.auth().signOut(),e("setUser",null)}},getters:{user:function(t){return t.user},checkUser:function(t){return null!==t.user}}};r.a.use(E.a);var H=new E.a.Store({modules:{charts:N,common:{state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){(0,t.commit)("setLoading",e)},setError:function(t,e){(0,t.commit)("setError",e)},clearError:function(t){(0,t.commit)("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},user:F}});s("dih4");r.a.use(i.a,n.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:S,store:H,components:{App:u},template:"<App/>",created:function(){var t=this;W.a.initializeApp({apiKey:"AIzaSyDfgOEzaUoiMvGjn2yEVvLJjLsZ_vEuwy0",authDomain:"weight-control-e72da.firebaseapp.com",databaseURL:"https://weight-control-e72da-default-rtdb.firebaseio.com/",projectId:"weight-control-e72da",storageBucket:"weight-control-e72da.appspot.com",messagingSenderId:"186086937309"}),W.a.auth().onAuthStateChanged(function(e){e&&t.$store.dispatch("loggedUser",e),t.$store.dispatch("loadCharts")})}})},ZrzA:function(t,e){},gU2v:function(t,e){},mW51:function(t,e){},peHS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f5e0b7004c0bddafc34e.js.map